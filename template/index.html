{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>Minor Project</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
<!--    <link rel="icon" type="image/x-icon" href=" {% static 'assets/img/favicon.png' %} "/>-->
    <link href=" {% static 'assets/css/loader.css' %} " rel="stylesheet" type="text/css" />
    <script src=" {% static 'assets/js/loader.js' %} "></script>
    <link rel="apple-touch-icon" sizes="144x144" href=" {% static 'favicon/apple-touch-icon.png' %} ">
    <link rel="icon" type="image/png" sizes="32x32" href=" {% static 'favicon/favicon-32x32.png' %} ">
    <link rel="icon" type="image/png" sizes="16x16" href=" {% static 'favicon/favicon-16x16.png' %} ">
    <link rel="manifest" href=" {% static 'favicon/site.webmanifest' %} ">
    <link rel="mask-icon" href=" {% static 'favicon/safari-pinned-tab.svg' %} " color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
    <link href=" {% static 'bootstrap/css/bootstrap.min.css' %} " rel="stylesheet" type="text/css" />
    <link href=" {% static 'assets/css/plugins.css' %} " rel="stylesheet" type="text/css" />
</head>
<link rel="stylesheet" type="text/css" href=" {% static 'assets/css/dashboard.css' %} ">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body>
    <div id="load_screen"> <div class="loader"> <div class="loader-content">
        <div class="spinner-grow align-self-center"></div>
    </div></div></div>

    <div class="header-container fixed-top">
        <header class="header navbar navbar-expand-sm">
            <ul class="navbar-item theme-brand">
                <li class="nav-item align-self-center">
                    <a href=" {% static 'index.php' %} "><img src=" {% static 'assets/img/logo.png' %} " style="max-height:40px;" alt="Minor_proj"></a>
                </li>
            </ul>

            <div class="ml-md-auto fullscreen_navbar">
                <ul class="navbar-item flex-row ml-md-auto">
                    <li class="nav-item align-self-center" style="padding:10px;">
                        <a href=" #" style="color:#ff5722; background:transparent; margin-top:8px; margin-right:25px; font-weight:700;" >File</a>
                    </li>
                    <li class="nav-item align-self-center" style="padding:10px;">
                        <a href=" #" style="color:#000000; background:transparent; margin-top:8px; margin-right:25px; font-weight:700;" >Edit</a>
                    </li>
                    <li class="nav-item align-self-center" style="padding:10px;">
                        <a href=" # " style="color:#000000; background:transparent; margin-top:8px; margin-right:25px; font-weight:700;" >Window</a>
                    </li>
                    <li class="nav-item align-self-center" style="padding:10px;">
                        <a href=" # " style="color:#000000; background:transparent; margin-top:8px; margin-right:25px; font-weight:700;" >Help</a>
                    </li>
                    <li class="nav-item align-self-center" style="padding:10px;">
                        <a href="# " style="color:#000000; background:transparent; margin-top:8px; font-weight:700;" >Settings</a>
                    </li>
                </ul>
            </div>
            <ul class="navbar-item flex-row ml-md-auto">
                   <a class="nav-link" href="/logout">logout</a>
                      </li>
            </ul>
        </header>
    </div>

<!--    Sidebar start here-->

    <div class="sidebar-wrapper sidebar-theme">
        <nav id="sidebar">
            <ul class="list-unstyled menu-categories" id="accordionExample" style="background-color:#2d323e;">
                <li class="menu" style="margin-top:30px;">
                    <img class="drag_img1" src=" {% static 'images/EV3-brick.png' %} ">
                </li>
                <li class="menu">
                    <img class="drag_img2" src=" {% static 'images/EV3-Ultrasonic-Sensor.png' %} ">
                </li>
                <li class="menu">
                    <img class="drag_img3" src=" {% static 'images/EV3-Colour-Sensor.png' %} ">
                </li>

                <li class="menu">
                    <img class="drag_img4" src=" {% static 'images/EV3-Touch-Sensor.png' %} ">
                </li>

                <li class="menu">
                    <img class="drag_img5" src=" {% static 'images/EV3-Infrared-Sensor-300x181.png' %} ">
                </li>

                <li class="menu">
                    <img class="drag_img6" src=" {% static 'images/Pixy-2-camera.png' %} ">
                </li>

                <li class="menu">
                    <img class="drag_img7" src=" {% static 'images/EV3-Gyro-Sensor.png' %} ">
                </li>
            </ul>
        </nav>
    </div>

<!--    sidebar end here-->

<!--    Ye right sidebar hai-->

    <div class="sidebar-wrapper sidebar-theme" style="right:0px;background-color:#95a3be;">
        <nav id="sidebar">
            <ul class="list-unstyled menu-categories" id="accordionExample" style="background-color:#95a3be;">
                <li class="menu" style="margin-top:30px;">
                    <p class="text_info default_info"><strong>Welcome to EV3<br>simulator!</strong><br><br><strong><u>How to use:</u></strong><br>Double-click on any<br>hardware component and<br>drag them to movement<br>area.<br>Then single click in<br>movement area to<br>connect two components<br>with a wire.<br><br><strong>Note:</strong> Double-clicking<br>again on any component<br>will result in removal of<br>that component from<br>movement area.<br></p>

                    <p class="text_info brick_info" style="display:none;"><strong>Name:</strong> EV3 Brick<br><br><strong>Display:</strong> 178×128 pixel<br>Monochrome LCD<br><br><strong>Main Processor:</strong> TI Sitara<br>AM1808(ARM926EJ-S<br>core) @300 MHz<br><br><strong>Main Memory:</strong> 64 MB<br>RAM, 16 MB Flash<br>microSDHC Slot<br><br><strong>USB Host Port:</strong> Yes<br><br><strong>WiFi:</strong> Optional dongle<br>via USB port<br><br><strong>Bluetooth:</strong> Yes</p>

                    <p class="text_info ultrasonic_info" style="display:none;"><strong>Name:</strong> Ultrasonic sensor<br><br><strong>*</strong> Measures distances<br>between one and 250 cm<br>(one to 100 in.)<br><br><strong>*</strong> Accurate to +/- 1 cm <br>(+/- 0.394 in.)<br><br><strong>*</strong> Front illumination is<br>constant while emitting<br>and blinks while listening<br><br><strong>*</strong> Returns True if other<br>ultrasonic sound is<br>recognized.<br><br><strong>*</strong> Auto-ID is built into the<br>EV3 Software.<br></p>

                    <p class="text_info color_info" style="display:none;"><strong>Name:</strong> Colour sensor<br><br><strong>*</strong> Measures reflected red<br>light and ambient light<br>from darkness to very<br>bright sunlight<br><br><strong>*</strong> Capable of detecting<br>seven colors plus the<br>absence of color. It can<br>tell the difference<br>between color or black<br>and white or among blue<br>green, yellow, red, white<br>and brown.<br><br><strong>*</strong> Sample rate of 1 kHz<br><strong>&amp;</strong> Auto-ID is built into the<br>EV3 Software.<br></p>

                    <p class="text_info touch_info" style="display:none;"><strong>Name:</strong> Touch sensor<br><br><strong>*</strong> It detects when its front<br>button is pressed or<br>released and is able to<br>count single and multiple<br>presses.<br><br><strong>*</strong> Cross-axle hole on<br>button.<br><br><strong>*</strong> Auto-ID is built into<br>the EV3 software.</p>

                    <p class="text_info infrared_info" style="display:none;"><strong>Name:</strong> Infrared sensor<br><br><strong>*</strong> Proximity measurement<br>of approximately<br>50-70 cm<br><br><strong>*</strong> Working distance from<br>the beacon of up to two<br>meters.<br><br><strong>*</strong> Supports four signal<br>channels<br><br><strong>*</strong> Receives IR remote<br>commands<br><br><strong>*</strong> Auto-ID is built into<br>the EV3 software.</p>

                    <p class="text_info pixycam_info" style="display:none;"><strong>Name:</strong> PIXY2 camera<br><br><strong>*</strong> Features the 1/4"<br>image sensor Omnivision<br>OV9715<br><br><strong>*</strong> Offers a lens field-of<br>view of 75° horizontal,<br>47° vertical<br><br><strong>Lens type</strong> Standard M12<br><br><strong>Power consumption:</strong> 140<br>mA typical<br><br><strong>RAM:</strong> 264K bytes<br><br><strong>Flash:</strong> 1M bytes</p>

                    <p class="text_info gyro_info" style="display:none;"><strong>Name:</strong> Gyroscope sensor<br><br><strong>*</strong> Angle mode measures<br>angles with an accuracy<br>of +/- 3 degrees.<br><br><strong>*</strong> Gyro mode has<br>a maximum output of<br>440 degrees/second.<br><br><strong>*</strong> Sample rate of 1 kHz<br><br><strong>*</strong> Auto-ID is built into<br>the EV3 Software.</p>

                </li>
                <li class="menu text_input_menu" style="margin-top:15px;text-align:center;">
                    <input type="text" class="input_field" placeholder="Input" spellcheck="false" disabled>
                </li>
                <li class="menu file_input_menu" style="margin-top:15px;text-align:center;display:none;">

                    <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}
                     <button type="submit">Upload</button>
                        </form>
                </li>
                </li>
                <li class="menu file_input_menu_sensor" style="margin-top:15px;text-align:center;display:none;">

                    <form  method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}


                     <button type="submit" name="go">Upload</button>
                        </form>

                </li>
                <li class="menu" style="margin-top:15px;text-align:center;">
                    <textarea type="text" class="output_field" placeholder="Output" spellcheck="false" disabled></textarea>
                </li>
                <li class="menu" style="margin-top:2px;text-align:center;">
                    <p style="color:#000;font-size:18px:">Made with <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="red" stroke="black" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> and <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#f0c986" stroke="black" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-coffee"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg></p>
                </li>
            </ul>
        </nav>
    </div>

    <div class="main-container" id="container">
        <div class="overlay"></div>
        <div class="search-overlay"></div>
        <hr id="line" style="display:none;position:absolute; top:50px; left:-100px; width:500px; margin:0; -webkit-transform:rotateZ(53.1deg); border-width:1px; border-style:solid; border-image:linear-gradient(to right, #f1f2f3 0%,#f1f2f3 49%,#000000 50%,#000000 100%) 1;">
        <div id="p1" style="display:none; border-radius:5px; width:10px; background:#000; position:absolute; height:10px; top:45px; left:145px;"></div>
        <div id="p2" style="display:none; border-radius:5px; width:10px; background:#000; position:absolute; height:10px; top:245px; left:295px;"></div>
<!--    Right sidebar end here-->

        <div id="content" class="main-content" style="margin-bottom: 80px;">
            <div class="grid-container">
                <div class="brick_grid" id="dragger_1">
                    <img class="drag_img_1" id="dragger_1_img" src=" {% static 'images/brick_icon.png' %} ">
                </div>
                <div class="ultrasoic_grid" id="dragger_2">
                    <img class="drag_img_1" id="dragger_2_img" src=" {% static 'images/ultrasonic_icon.png' %} ">
                </div>
                <div class="color_grid" id="dragger_3">
                    <img class="drag_img_1" id="dragger_3_img" src=" {% static 'images/color_icon.png' %} ">
                </div>
                <div class="pixy_grid" id="dragger_4">
                    <img class="drag_img_1" id="dragger_4_img" src=" {% static 'images/touch_icon.png' %} ">
                </div>
                <div class="ir_grid" id="dragger_5">
                    <img class="drag_img_1" id="dragger_5_img" src=" {% static 'images/ir_icon.png' %} ">
                </div>
                <div class="touch_grid" id="dragger_6">
                    <img class="drag_img_1" id="dragger_6_img" src=" {% static 'images/pixy_icon.png' %} ">
                </div>
                <div class="gyro_grid" id="dragger_7">
                    <img class="drag_img_1" id="dragger_7_img" src=" {% static 'images/gyro_icon.png' %} ">
                </div>
                <div class="vacant_1_grid">

                </div>
                <div class="vacant_2_grid">

                </div>
            </div>
        </div>
    </div>
</body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script>

(function($){
    $.fn.spawn_lines = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('click', function(e){
                $("#line").show();
                $("#p1").show();
                $("#p2").show();
            });
        });
        return this;
    }
}(jQuery));
$('#container').spawn_lines();

(function($){
    $.fn.unspawn_lines = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#line").hide();
                $("#p1").hide();
                $("#p2").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#container').unspawn_lines();

function pow2(n) {
    return n * n;
}

var p1 = {
    id: "p1",
    x: 150,
    y: 50
};

var p2 = {
    id: "p2",
    x: 300,
    y: 250
};
var select = null;

function getAngle() {
    var dist = Math.sqrt(pow2(p1.x - p2.x) + pow2(p1.y - p2.y));
    var l = document.getElementById("line");
    var cos = (p2.x - p1.x) / Math.sqrt(pow2(p2.x - p1.x) + pow2(p2.y - p1.y));
    var behind = p1.x < p2.x;
    var higher = p1.y > p2.y;
    l.style.width = (dist * 2) + "px";
    l.style.left = (p1.x - dist) + "px";
    l.style.top = (p1.y) + "px";
    l.style.transform = "rotateZ(" + (higher ? -1 : 1) * Math.acos(cos) * (180 / Math.PI) + "deg)";
}

var down = false;

document.addEventListener("mousemove", function (e) {
    if(select) {
        select.x = e.pageX;
        select.y = e.pageY;
        var p = document.getElementById(select.id);
        p.style.left = (select.x - 5) + "px";
        p.style.top = (select.y - 5) + "px";
        getAngle();
    }
});

document.addEventListener("mouseup", function (e) {
    if (!select) select = p1;
    else if (select == p1) select = p2;
    else select = null;
});

document.addEventListener("mousedown", function (e) {
    down = true;
});

dragElement(document.getElementById("dragger_1"));
dragElement(document.getElementById("dragger_2"));
dragElement(document.getElementById("dragger_3"));
dragElement(document.getElementById("dragger_4"));
dragElement(document.getElementById("dragger_5"));
dragElement(document.getElementById("dragger_6"));
dragElement(document.getElementById("dragger_7"));
function dragElement(elmnt) {
    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    if (document.getElementById(elmnt.id+"_img")) {
        document.getElementById(elmnt.id+"_img").onmousedown = dragMouseDown;
    } else {
        elmnt.onmousedown = dragMouseDown;
    }

    function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        pos3 = e.clientX;
        pos4 = e.clientY;
//        console.log(pos3+" "+pos4);
        document.onmouseup = closeDragElement;
        document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
//        console.log(pos3+" "+pos4);
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
        document.onmouseup = null;
        document.onmousemove = null;
    }
}

(function($){
    $.fn.spawner1 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_1_img").show();
                $(".default_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".brick_info").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img1').spawner1();

(function($){
    $.fn.unspawner1 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_1_img").hide();
                $(".default_info").show();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".brick_info").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_1_img').unspawner1();

(function($){
    $.fn.spawner2 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_2_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".ultrasonic_info").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img2').spawner2();

(function($){
    $.fn.unspawner2 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_2_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".ultrasonic_info").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_2_img').unspawner2();

(function($){
    $.fn.spawner3 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_3_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".color_info").show();
                $(".text_input_menu").hide();
                $(".file_input_menu_sensor").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img3').spawner3();

(function($){
    $.fn.unspawner3 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_3_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".color_info").hide();
                $(".text_input_menu").show();
                $(".file_input_menu_sensor").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_3_img').unspawner3();

(function($){
    $.fn.spawner4 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_4_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".touch_info").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img4').spawner4();

(function($){
    $.fn.unspawner4 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_4_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".touch_info").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_4_img').unspawner4();

(function($){
    $.fn.spawner5 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_5_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".infrared_info").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img5').spawner5();

(function($){
    $.fn.unspawner5 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_5_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
                $(".infrared_info").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_5_img').unspawner5();

(function($){
    $.fn.spawner6 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_6_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".gyro_info").hide();
                $(".pixycam_info").show();
                $(".text_input_menu").hide();
                $(".file_input_menu").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img6').spawner6();

(function($){
    $.fn.unspawner6 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_6_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".gyro_info").hide();
                $(".pixycam_info").hide();
                $(".text_input_menu").show();
                $(".file_input_menu").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_6_img').unspawner6();

(function($){
    $.fn.spawner7 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_7_img").show();
                $(".default_info").hide();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").show();
            });
        });
        return this;
    }
}(jQuery));
$('.drag_img7').spawner7();

(function($){
    $.fn.unspawner7 = function(options){
        this.each(function(e){
            var elem = $(this);
            elem.on('dblclick', function(e){
                $("#dragger_7_img").hide();
                $(".default_info").show();
                $(".brick_info").hide();
                $(".ultrasonic_info").hide();
                $(".color_info").hide();
                $(".touch_info").hide();
                $(".infrared_info").hide();
                $(".pixycam_info").hide();
                $(".gyro_info").hide();
            });
        });
        return this;
    }
}(jQuery));
$('#dragger_7_img').unspawner7();

$('#pixy_btn').click(function () {
    $('#image_input_cam').trigger('click');
});

$('#color_sensor_btn').click(function () {
    $('#image_input_color_sensor').trigger('click');
});

(function($){
    $.fn.post_pixy_img = function(options){
        this.on('change', function(e){
            var file_to_upload = $('#image_input_cam')[0].files[0];
            var type = file_to_upload.type;
            var allowed = ["image/jpeg", "image/png", "image/gif"];
            if(!((type == allowed[0]) || (type == allowed[1]) || (type == allowed[2]))) {
                alert("Please select an image only!");
                return;
            }
            else {
                var file_data = $('#image_input_cam').prop('files')[0];
                var form_data = new FormData();
                form_data.append('file', file_data);
                //form_data.append('tester', "Testing the metod");
                $('#pixy_btn').text("Please Wait..");
                /*$.ajax({
                    url: 'validate_ajax/',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function(data){
                    console.log("hii");
                    console.log(data.status);

                    }
                 });*/
            }
        });
    }
}(jQuery));
$('#image_input_cam').post_pixy_img();

(function($){
    $.fn.post_sensor_img = function(options){
    console.log("hili");
        this.on('change', function(e){
            var file_to_upload = $('#image_input_color_sensor')[0].files[0];
            var type = file_to_upload.type;
            var allowed = ["image/jpeg", "image/png", "image/gif"];
            if(!((type == allowed[0]) || (type == allowed[1]) || (type == allowed[2]))) {
                alert("Please select an image only!");
                return;
            }
            else {
                var file_data = $('#image_input_color_sensor').prop('files')[0];
                var form_data = new FormData();
                console.log("hili");
                form_data.append('file', file_data);
                $('#color_sensor_btn').text("Please Wait..");
                $.ajax({
                    url: '/likepost',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function(data){
                        if(data.status == 1) {
                            alert("Posted Successfully!")
                            window.setTimeout(function(){
                                window.location.href = "{% static '127.0.0.1:8000' %}"
                            }, 2000);
                        }
                    }
                 });
            }
        });
    }
}(jQuery));
$('#image_input_color_sensor').post_sensor_img();

</script>

<script src=" {% static 'bootstrap/js/popper.min.js' %} "></script>
<script src=" {% static 'bootstrap/js/bootstrap.min.js' %} "></script>
<script src=" {% static 'plugins/perfect-scrollbar/perfect-scrollbar.min.js' %} "></script>
<script src=" {% static 'assets/js/app.js' %} "></script>
<script>
    $(document).ready(function() {
        App.init();
    });
</script>
<script src=" {% static 'assets/js/custom.js' %} "></script>
</html>